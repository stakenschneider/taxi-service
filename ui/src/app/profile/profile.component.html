<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css"
      integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">

<div class="container-fluid">
  <!--PAGE CONTENT-->
  <div *ngIf="person" class='row'>
    <!--PERSON COLUMN-->
    <div id="left" class='col-xs-12 col-md-1'>
      <div id="first"><img id="avatar"
                           src="https://pbs.twimg.com/profile_images/1036730403514736650/PCRxFiEt_400x400.jpg"
                           alt="avatar"/>
        <div id="nameRow">
          <div class="text fullName">{{person.firstName}}  {{person.lastName}}</div>
          <div id="rating" class="text fullName"> 4.7<i class="far fa-star"></i></div>
        </div>
        <div class="text" id="userName">{{person.credentials.username}}</div>
        <div class="text"><i class="far fa-envelope"></i> <a id="email "
                                                             href="mailto:{{person.credentials.email}}"> {{person.credentials.email}}</a>
        </div>
        <button class="myButton" *ngIf="(person.personType === 'CLIENT') || (person.personType === 'DRIVER')" (click)="showHistoryOfTrips()">{{tripsHistoryTitle}}</button>

      </div>
    </div>
    <!--CONTENT COLUMN-->
    <div class='col-xs-12 col-md' id="right">
      <!--      TRIPS CLIENT TABLE-->
      <div *ngIf="showTrips" class="second">
        <div class="table">
          <table class="table table-hover">
            <tbody>
            <tr *ngFor="let row of tripsArray" (click)="clickOnTableRow(row)">
              <td>{{row.dateOfCreation}}</td>
              <!--              TODO ICons not displayed-->
              <td><i class="fas fa-map-marker-alt" style="color: red"></i> {{row.startAddress.city}}
                , {{row.startAddress.street}}, {{row.startAddress.numberHouse}} <br>
                <i class="fas fa-map-marker-alt" style="color: #1100ff"></i> {{row.finishAddress.city}}
                , {{row.finishAddress.street}}, {{row.finishAddress.numberHouse}}</td>
            </tr>
            </tbody>
          </table>
        </div>
      </div>
      <!--      SET PASSPORT FORM-->
      <div *ngIf="person.personType === 'DRIVER'" class="second">
        <mat-expansion-panel
          (opened)="panelOpenState = true"
          (closed)="panelOpenState = false">
          <mat-expansion-panel-header>
            <mat-panel-title>
              Passport panel
            </mat-panel-title>
            <mat-panel-description>
              {{person.passport ? 'ok' : 'empty'}}
            </mat-panel-description>
          </mat-expansion-panel-header>
          <p>
            <input [(ngModel)]="person.passport.series" type="text" placeholder="series">
            <input [(ngModel)]="person.passport.number" type="text" placeholder="number">
            <button (click)="setPassport()">SAVE</button>
          </p>
        </mat-expansion-panel>
      </div>
      <!--      SET CAR FORM-->
      <div *ngIf="person.personType === 'DRIVER'" class="second">
        <mat-expansion-panel (opened)="panelOpenState = true"
                             (closed)="panelOpenState = false">
          <mat-expansion-panel-header>
            <mat-panel-title>
              Car panel
            </mat-panel-title>
            <mat-panel-description>
<!--              TODO get car-->
              {{person.personType === 'DRIVER' ? 'ok' : 'empty'}}
            </mat-panel-description>
          </mat-expansion-panel-header>
            <div class="child">MODEL:</div>
            <div class="rate">
              <select class=" can-disable" [(ngModel)]="modelTitle" [ngModelOptions]="{standalone: true}">
                <option *ngFor="let title of carModels" [ngValue]="title">{{title}}</option>
              </select>
            </div>
            <div class="child">COLOR:</div>
            <div class="rate">
              <select class=" can-disable" [(ngModel)]="colorTitle" [ngModelOptions]="{standalone: true}">
                <option *ngFor="let title of carColors" [ngValue]="title">{{title}}</option>
              </select>
            </div>
            <input [(ngModel)]="carNumber" type="text" placeholder="number">
            <button (click)="setCar()">SAVE</button>
        </mat-expansion-panel>
      </div>
    </div>
  </div>
</div>


